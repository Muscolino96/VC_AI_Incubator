---
phase: 02-dashboard-overhaul
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - vc_agents/web/dashboard.html
autonomous: true
requirements:
  - STYLE-01
  - STYLE-02
  - STYLE-03
  - STYLE-04

must_haves:
  truths:
    - "The page loads DM Serif Display, JetBrains Mono, and DM Sans from Google Fonts"
    - "CSS :root block contains --gold, --gold-dim, --gold-glow and all 10 provider colour tokens"
    - "Provider badges in the event log display the correct colour via data-prov attribute"
    - "An unknown provider name falls back to --c-compat colour"
    - "The header, control panel, progress section, and results tabs remain visually and functionally intact"
  artifacts:
    - path: "vc_agents/web/dashboard.html"
      provides: "Single modified HTML file with new CSS tokens and badge pattern"
      contains: "--gold: #d4a853"
  key_links:
    - from: "CSS :root"
      to: "provider badge colours"
      via: "[data-prov] CSS attribute selectors"
      pattern: "\\[data-prov"
    - from: "handleEvent JS function"
      to: "event-log .eprov span"
      via: "data-prov attribute set on injected HTML element"
      pattern: "data-prov"
---

<objective>
Inject new design tokens and update provider badge colouring in dashboard.html without touching layout structure.

Purpose: Establishes the visual foundation (fonts, gold palette, provider colours) needed by Plan 02-02. Also upgrades the event-log provider badge from a plain inline colour to a data-prov CSS attribute pattern so unknown providers gracefully fall back to --c-compat.

Output: dashboard.html with updated CSS :root, Google Fonts link, data-prov badge CSS selectors, and updated provider badge rendering in the event log row builder.
</objective>

<execution_context>
@C:/Users/Vince/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Vince/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-backend-fixes/01-02-SUMMARY.md

<interfaces>
<!-- Key contracts extracted from vc_agents/web/dashboard.html -->

Existing :root variables (ADD to these, do not remove):
  --bg: #0f1117; --surface: #1a1d27; --surface2: #22253a; --border: #2a2d3a;
  --text: #e4e4e7; --muted: #8b8d97; --accent: #6366f1;
  --green: #22c55e; --red: #ef4444; --yellow: #eab308; --blue: #3b82f6;

Existing font-family on body (UPDATE to use new token):
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;

Event log provider tag in handleEvent() (UPDATE to use data-prov):
  const provTag = event.provider
    ? ` <span style="color:var(--blue)">[${event.provider}]</span>`
    : '';

IDs that must remain unchanged:
  #wsStatus, #controlPanel, #progressSection, #eventLog, #btnRun, #runStatus
  #cfgIdeas, #cfgIter, #cfgSector, #cfgMock, #cfgDeliberation
  #modelOpenai, #modelAnthropic, #modelDeepseek, #modelGemini
  #keyOpenai, #keyAnthropic, #keyDeepseek, #keyGemini
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Google Fonts link and extend CSS :root with design tokens</name>
  <files>vc_agents/web/dashboard.html</files>
  <action>
READ the full file first (required before editing).

Make the following targeted changes — do NOT rewrite or restructure HTML, do NOT remove any existing CSS rules or IDs:

CHANGE 1 — Insert Google Fonts links in &lt;head&gt; immediately before the existing &lt;style&gt; tag:
```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=JetBrains+Mono:wght@300;400;500;600&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
```

CHANGE 2 — At the TOP of the :root { } block (immediately after the opening brace, before --bg), INSERT:
```css
/* ── Design tokens (Phase 2) ── */
--gold: #d4a853;
--gold-dim: rgba(212,168,83,.13);
--gold-glow: rgba(212,168,83,.35);
--ink: #0c0d10;
--ink-2: #141519;
--border-hi: rgba(255,255,255,.14);
--text-dim: #8a8c96;
--text-xs: #5a5c68;

/* Provider colour tokens */
--c-openai: #10b981;
--c-anthropic: #cc785c;
--c-compat: #6d7aff;
--c-mistral: #ff7000;
--c-google: #8b5cf6;
--c-deepseek: #3b82f6;
--c-xai: #e2e2e2;
--c-meta: #0082fb;
--c-cohere: #39d353;
--c-qwen: #ed6c18;

/* Font tokens */
--font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
--font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
--font-serif: 'DM Serif Display', serif;
```

CHANGE 3 — Update body { } font-family value. Find:
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
Replace with:
  font-family: var(--font-sans);

CHANGE 4 — After all existing CSS rules, immediately before the closing &lt;/style&gt; tag, INSERT:
```css
/* ── Provider badge: data-prov colour system (STYLE-03) ── */
/* Default / fallback: compat purple */
.provider-badge,
.eprov { color: var(--c-compat); }
[data-prov="openai"]    { color: var(--c-openai); }
[data-prov="anthropic"] { color: var(--c-anthropic); }
[data-prov="deepseek"]  { color: var(--c-deepseek); }
[data-prov="gemini"],
[data-prov="google"]    { color: var(--c-google); }
[data-prov="mistral"]   { color: var(--c-mistral); }
[data-prov="xai"]       { color: var(--c-xai); }
[data-prov="meta"]      { color: var(--c-meta); }
[data-prov="cohere"]    { color: var(--c-cohere); }
[data-prov="qwen"]      { color: var(--c-qwen); }
```

CHANGE 5 — Update the event-log provider tag in the handleEvent() function. Find this exact line:
  const provTag = event.provider ? ` &lt;span style="color:var(--blue)">[${event.provider}]&lt;/span>` : '';
Replace with:
  const prov = (event.provider || '').toLowerCase();
  const provTag = event.provider ? ` &lt;span class="eprov" data-prov="${prov}">[${event.provider}]&lt;/span>` : '';

This makes the provider badge colour come from the CSS attribute selector rather than an inline style, so unknown providers automatically fall back to --c-compat.

Do NOT change anything else: no HTML structure, no other JS functions, no existing CSS rules, no IDs or classes outside the items above.
  </action>
  <verify>
    <automated>cd C:/Users/Vince/Desktop/VC_AI_Incubator-main && python3 -c "
content = open('vc_agents/web/dashboard.html').read()
checks = [
    ('DM+Serif+Display' in content, 'Google Fonts link present'),
    ('--gold: #d4a853' in content, '--gold token'),
    ('--gold-dim' in content, '--gold-dim token'),
    ('--gold-glow' in content, '--gold-glow token'),
    ('--c-openai: #10b981' in content, '--c-openai token'),
    ('--c-anthropic: #cc785c' in content, '--c-anthropic token'),
    ('--c-compat: #6d7aff' in content, '--c-compat token'),
    ('--c-deepseek: #3b82f6' in content, '--c-deepseek token'),
    ('--c-google: #8b5cf6' in content, '--c-google token'),
    ('--c-xai: #e2e2e2' in content, '--c-xai token'),
    ('--c-meta: #0082fb' in content, '--c-meta token'),
    ('--c-cohere: #39d353' in content, '--c-cohere token'),
    ('--c-qwen: #ed6c18' in content, '--c-qwen token'),
    ('--font-mono' in content, '--font-mono token'),
    ('--font-sans' in content, '--font-sans token'),
    ('--font-serif' in content, '--font-serif token'),
    ('[data-prov=' in content, 'data-prov CSS selectors present'),
    ('data-prov=' in content, 'data-prov attribute used in JS'),
    ('font-family: var(--font-sans)' in content, 'body uses font token'),
    ('id=\"wsStatus\"' in content, 'wsStatus ID preserved'),
    ('id=\"controlPanel\"' in content, 'controlPanel ID preserved'),
    ('id=\"progressSection\"' in content, 'progressSection ID preserved'),
    ('id=\"btnRun\"' in content, 'btnRun ID preserved'),
]
failures = [msg for ok, msg in checks if not ok]
if failures:
    print('FAIL:', failures)
    exit(1)
print('PASS: all checks passed')
"
    </automated>
  </verify>
  <done>
    - Google Fonts link is in &lt;head&gt; loading DM Serif Display, JetBrains Mono, DM Sans
    - :root has --gold, --gold-dim, --gold-glow, all 10 --c-* provider tokens, --font-mono/sans/serif
    - body { font-family } uses var(--font-sans)
    - [data-prov] CSS attribute selectors present covering all 10 providers
    - Event-log provider span uses class="eprov" + data-prov attribute (no inline colour)
    - All existing IDs, layout HTML, and JS functions remain unchanged
  </done>
</task>

</tasks>

<verification>
Open the dashboard in a browser (python3 -m http.server from vc_agents/web/ or via the FastAPI server). The page should load with the new fonts visible in header text. Inspect the :root in DevTools and confirm --gold and --c-openai variables are present. Trigger a run event and confirm the provider badge in the event log is coloured via CSS (not inline style).
</verification>

<success_criteria>
- Google Fonts stylesheet loads (DevTools Network tab shows fonts.googleapis.com request)
- :root CSS contains all 17 new tokens (10 provider colours + 3 gold + 3 font + ink/border variants)
- body font-family resolves to DM Sans
- data-prov CSS attribute selectors present for all providers; .eprov without data-prov falls back to --c-compat
- All existing IDs (#wsStatus, #controlPanel, #progressSection, #btnRun) intact and functional
</success_criteria>

<output>
After completion, create `.planning/phases/02-dashboard-overhaul/02-01-SUMMARY.md`
</output>
